Rewriting History
Undoing commits

````markdown
# Rewriting History â€” Cheat Sheet

## Undoing commits (local, history rewrite)

```bash
git reset --soft HEAD^     # Remove last commit, keep changes staged
git reset --mixed HEAD^    # Remove last commit, keep changes in working tree (unstaged)
git reset --hard HEAD^     # Remove last commit and discard changes (dangerous)
```
````

Reverting commits

## Reverting commits (safe for shared history)

```bash
git revert 72856ea             # Create a new commit that undoes the given commit
git revert HEAD~3..HEAD        # Revert the last three commits (create separate revert commits)
git revert --no-commit HEAD~3..HEAD  # Stage the reverts without committing
```

Recovering lost commits

## Recovering lost commits

```bash
git reflog                     # Shows the history of HEAD movements (recover lost commits)
git reflog show bugfix         # Shows the history of the branch pointer 'bugfix'
```

Amending the last commit

## Amending the last commit

```bash
git commit --amend             # Modify the last commit (message or staged changes)
```

Interactive rebasing

## Interactive rebasing

```bash
git rebase -i HEAD~5           # Rewrite the last 5 commits interactively
```

```

```
